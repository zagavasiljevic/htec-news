window.addAccordions=function(){var e,t=document.getElementsByClassName("accordion");for(e=0;e<t.length;e++)t[e].addEventListener("click",(function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}))},(()=>{let e="ad73f35f96c244529436254ebe21c34c",t=document.getElementById("top_news"),n=(gb,document.getElementById("section_title"));const i=[{name:"Entertainment",slug:"entertainment"},{name:"General",slug:"general"},{name:"Health",slug:"health"},{name:"Science",slug:"science"},{name:"Sports",slug:"sports"},{name:"Technology",slug:"technology"},{name:"Business",slug:"business"}];document.getElementById("categories").onclick=function(){let l=document.getElementsByClassName("nav-item");for(var a=l.length-1,c=0;c<=a;c++)l[c].classList.remove("active");this.classList.add("active");let s="";n.innerHTML="Top 5 news by categories from GB",i.forEach((function(t){let n=t.slug,i=t.name;s+=`\n        <div class="single-category">\n            <button class="accordion">${i}</button>\n            <div id="${n}" class="panel"></div>\n        </div>`,async function(){let t=await fetch(`https://newsapi.org/v2/top-headlines?country=gb&category=${n}&pageSize=5&apiKey=${e}`);return await t.json()}().then((e=>{let t=e.articles,i="",l="",a="",c=document.getElementById(n);t.forEach((function(e){e.title&&(l=e.title),e.description&&(a=e.description);let t=`\n                    <div class="single-news">\n                        <h4>${l}</h4>\n                        <img src="${e.urlToImage}" alt="${l}">\n                        <p>${a}</p>\n                        <button onclick="getSingleArticle('${e.url}')">More ></button>\n                    </div>`;i+=t})),c.innerHTML=i}))})),t.empty,t.innerHTML=s,addAccordions()},window.getSingleArticle=e=>{var i=JSON.parse(localStorage.getItem("articles"));let l="",a="";i.gb.forEach((function(i){if(i.url===e){i.title&&(l=i.title),i.content&&(a=i.content);let e=`\n            <div class="news-full">\n                <img src="${i.urlToImage}" alt="${l}">\n                <p>${a}</p>\n                <button onclick="window.location.reload();">< Back to list</button>\n            </div>\n        `;t.empty,n.value=i.title,n.innerHTML=n.value,t.innerHTML=e}}))},async function(){let t=await fetch("https://newsapi.org/v2/top-headlines?pageSize=9&country=gb&apiKey="+e);return await t.json()}().then((e=>{let n=e.articles,i="";n.forEach((function(e){let t=`\n              <div class="single-news">\n                  <h4>${e.title}</h4>\n                  <img src="${e.urlToImage}" alt="${e.title}">\n                  <p>${e.description}</p>\n                  <button onclick="getSingleArticle('${e.url}')">More ></button>\n              </div>`;i+=t})),t.innerHTML=i}))})();